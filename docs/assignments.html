<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Coding Practice</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="stylesheet" href="site_libs_extra/academicons-1.8.0/css/academicons.css"/>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<div class="container-fluid main-container">

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>





<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">
    <span class="fa fa-info-circle  fa-1x"></span>
     
    About
  </a>
</li>
<li>
  <a href="syllabus.html">
    <span class="fa fa-map fa-1x"></span>
     
    Syllabus
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Set Up!
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="computer_setup.html">Computer Setup</a>
    </li>
    <li>
      <a href="setting_up_git.html">Setting up Git Repository</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book  fa-1x"></span>
     
    Course Materials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lesson_intro_r_rstudio.html">Orientation to Programming, R, &amp; RStudio</a>
    </li>
    <li>
      <a href="lesson_project_management.html">Project Management</a>
    </li>
    <li>
      <a href="lesson_spreadsheets_condensed.html">Spreadsheets</a>
    </li>
    <li>
      <a href="lesson_vectors.html">Vectors &amp; Data Types</a>
    </li>
    <li>
      <a href="lesson_data_frames_ecology.html">Data Frames</a>
    </li>
    <li>
      <a href="lesson_dplyr_ecology.html">Using dplyr</a>
    </li>
    <li>
      <a href="lesson_ggplot_ecology.html">Using ggplot2</a>
    </li>
    <li>
      <a href="lesson_data_import.html">Data Import &amp; Export</a>
    </li>
    <li>
      <a href="lesson_visualization_dos.html">Visualization Do's &amp; Don'ts</a>
    </li>
    <li>
      <a href="lesson_rmarkdown.html">Literate Programming with RMarkdown</a>
    </li>
    <li>
      <a href="lesson_tidyr.html">Using tidyr</a>
    </li>
    <li>
      <a href="lesson_lubridate.html">Times &amp; Dates with lubridate</a>
    </li>
    <li>
      <a href="lesson_functions.html">Writing functions</a>
    </li>
    <li>
      <a href="lesson_iteration.html">Iteration</a>
    </li>
  </ul>
</li>
<li>
  <a href="lectures.html">
    <span class="fa fa-slideshare fa-1x"></span>
     
    Lectures
  </a>
</li>
<li>
  <a href="assignments.html">
    <span class="fa fa-paperclip fa-1x"></span>
     
    Assignments
  </a>
</li>
<li>
  <a href="resources.html">
    <span class="fa fa-list"></span>
     
    Resources
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="contact.html">
    <span class="fa fa-hand-spock-o"></span>
     
    Contact
  </a>
</li>
<li>
  <a href="https://github.com/gge-ucd/R-DAVIS">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Coding Practice</h1>

</div>


<p>The following material will be posted on Github via the Discussion board for the class <em>Team</em> (2019 is the <strong>Hippogriffs</strong>). Assignments are designed to reinforce the code/lessons covered that week, and provide students a chance to both practice coding and reviewing code. Assignments were completed via private repositories each student set up (via <a href="https://classroom.github.com/classrooms">Github Classrooms</a>), and each week students will be randomly assigned another student for a code review. Apologies if there are links that don’t work, they may be specifically setup for students enrolled in course.</p>
<p><br></p>
<div id="assignments" class="section level2 tabset tabset-fade tabset-pills">
<h2>Assignments</h2>
<div id="week2" class="section level3">
<h3><small>Week2</small></h3>
</div>
<div id="week3" class="section level3">
<h3><small>Week3</small></h3>
</div>
<div id="week4" class="section level3">
<h3><small>Week4</small></h3>
<p><strong>Week 4 Assignment</strong></p>
<p>For you assignment this week, we will be practicing subsetting the same data frame we were working with in class, <code>surveys</code>.</p>
<p>The objective of the assignment is for you to write a new, clean script, commit and push it to github, and then someone else will download and run that script on their computer, and file an issue in your repository with some comments about the script.</p>
<p><strong>Part I: Coding Practice</strong></p>
<ol style="list-style-type: decimal">
<li><p>Create a new script in your <code>r-davis-in-class-yourname</code> project named <code>week_4_assignment_ABC.R</code> but with your initials in place of ABC. Save it to your <code>scripts</code> folder.</p></li>
<li><p>Read <code>portal_data_joined.csv</code> into R using the <code>read.csv</code> command and create a dataframe named <code>surveys</code> (just like we did in class).</p></li>
<li><p>Subset to just the first column and columns five through 8. Include only the first 400 rows. Save this as a dataframe called <code>surveys_subset</code>.</p></li>
<li><p><em>CHALLENGE:</em> Select all rows that have a <code>hindfoot_length</code> greater than 32, save these in a new data.frame named <code>surveys_long_feet</code>, then plot its <code>hindfoot_length</code> values as a histogram using the <code>hist</code> function.</p></li>
<li><p>Change the column <code>hindfoot_lengths</code> into a character vector.</p></li>
<li><p>Plot the <code>hindfoot_lengths</code> in a histogram (if this doesn’t work, just leave it, and think about it during Part II of the assignment, <em>wink wink</em>).</p></li>
<li><p>Commit &amp; Push the R script to GitHub - check your repository on GitHub and make sure your script is there.</p></li>
</ol>
<p><strong>Part II: Code Review</strong></p>
<p>Find your code partner’s repository on GitHub, click on the scripts folder, and find the script named <code>w3_assignment_ABC.R</code></p>
<p>Click on the script, then find the RAW button on the right hand side of the screen. Click on RAW.</p>
<p>You should see a plain text version of the script. Right click anywhere on the page, and select “Save As”, save the script to your scripts folder in your repository. Make sure to change the file extension to <code>.R</code> (instead of <code>.txt</code>).</p>
<p>Now, if you open up your RProject where you saved the script, you should see it, and better yet, you should have the same path/folder structure that is used in the script (we hope!).</p>
<p>Try to run the script line by line. Where does it break? Can you fix it? File an Issue in your code partner’s repository. Write up a few sentences describing a few good things about the script (what worked! Was it clearly commented?) and what didn’t (where did it break for you, and why? How might it be fixed?). Remember to be constructive and positive…we’re all learning!</p>
<p>Any questions? comments? Issues? Remember you can always tag us using individual names when you file an issue in the <a href="https://github.com/gge-ucd/Discussion/issues">Discussion repository</a>: <span class="citation">@marthawohlfeil</span>, <span class="citation">@mcmaurer</span> <span class="citation">@ryanpeek</span>, etc.</p>
<p>Thanks!</p>
</div>
<div id="week5" class="section level3">
<h3><small>Week5</small></h3>
<p><strong>WEEK 5 ASSIGNMENT</strong></p>
<p>Alright folks, we’ve ventured into the <code>tidyverse</code>! We’re going to test out your <code>dplyr</code> skills, pipe (<code>%&gt;%</code>) some data, and make a <code>tibble</code> or two.</p>
<p><strong>Part I: Enter the Tidyverse</strong></p>
<ol style="list-style-type: decimal">
<li><p>Create a new script in your <code>r-davis-in-class-yourname</code> project, and name it <code>w_5_assignment_ABC.R</code>, with your initials in place of <code>ABC</code>. Save it in your <code>scripts</code> folder.</p></li>
<li><p>Read <code>portal_data_joined.csv</code> into R using the <code>tidyverse</code>’s command called <code>read_csv()</code>, and assign it to an object named <code>surveys</code>.</p></li>
<li><p>Using <code>tidyverse</code> functions and pipes, subset to keep all the rows where weight is between 30 and 60, then print the first few (maybe… 6?) rows of the resulting tibble.</p></li>
<li><p>Make a tibble that shows the <code>max</code> (hint hint) weight for each species+sex combination, and name it <code>biggest_critters</code>. Use the <code>arrange</code> function to look at the biggest and smallest critters in the tibble (use <code>?</code>, tab-complete, or Google if you need help with <code>arrange</code>).</p></li>
<li><p>Try to figure out where the <code>NA</code> weights are concentrated in the data- is there a particular species, taxa, plot, or whatever, where there are lots of <code>NA</code> values? There isn’t necessarily a right or wrong answer here, but manipulate <code>surveys</code> a few different ways to explore this. Maybe use <code>tally</code> and <code>arrange</code> here.</p></li>
<li><p>Take surveys, remove the rows where weight is <code>NA</code> and add a column that contains the average weight of each species+sex combination. Then get rid of all the columns except for species, sex, weight, and your new average weight column. Save this tibble as <code>surveys_avg_weight</code>. The resulting tibble should have 32,283 rows.</p></li>
<li><p><em>Challenge</em>: Take <code>surveys_avg_weight</code> and add a new column called <code>above_average</code> that contains logical values stating whether or not a row’s weight is above average for its species+sex combination (recall the new column we made for this tibble).</p></li>
<li><p><em>Extra Challenge</em>: Figure out what the <code>scale</code> function does, and add a column to <code>surveys</code> that has the scaled weight, by species. Then sort by this column and look at the relative biggest and smallest individuals. Do any of them stand out as particularly big or small?</p></li>
</ol>
<p><strong>Part II: Code Review</strong></p>
<p>Find your code partner’s repository on GitHub, click on the scripts folder, and find the script named <code>w5_assignment_ABC.R</code></p>
<p>Click on the script, then find the RAW button on the right hand side of the screen. Click on RAW.</p>
<p>You should see a plain text version of the script. Right click anywhere on the page, and select “Save As”, save the script to your scripts folder in your repository. Make sure to change the file extension to <code>.R</code> (instead of <code>.txt</code>).</p>
<p>If you can’t save your partner’s file in this way, you can copy the text from the RAW view, then create a new <code>.R</code> file in your RProject, and paste the text there.</p>
<p>Now, if you open up your RProject where you saved the script, you should see it, and better yet, you should have the same path/folder structure that is used in the script (we hope!).</p>
<p>Try to run your partner’s script, stepping through each question, and compare your methods and answers to theirs. Did they use the same steps in the same order? Do their answers look like yours? If not, try to figure out why!</p>
<p>Any questions? comments? Issues? Remember you can always tag us using individual names when you file an issue in the <a href="https://github.com/gge-ucd/Discussion/issues">Discussion repository</a>: <span class="citation">@marthawohlfeil</span>, <span class="citation">@mcmaurer</span> <span class="citation">@ryanpeek</span>, etc.</p>
<p>Thanks!</p>
</div>
<div id="week6" class="section level3">
<h3><small>Week6</small></h3>
<p>This week’s assignment builds on the <code>ggplot</code> skills that we learned during Week 06. Just like last week, there are two parts: the exercsise and a code review. Please pick a partner for the code review as you have been doing in past weeks. If you do not have a partner, please email Martha at <a href="mailto:mwohlfeil@ucdavis.edu" class="email">mwohlfeil@ucdavis.edu</a>.</p>
<div id="part-1" class="section level4">
<h4><strong>Part 1</strong></h4>
<p>This exercise asks you to <strong>modify existing code to complete a new task.</strong></p>
<p>We will work in the same repository that you’ve been working in for the last couple of weeks: r-davis-in-class-YourName.</p>
<p>For this homework, we are going to be working with a new dataset called <code>gapminder</code>. Download the data using the code below. Remember, this code is looking for a folder called <code>data</code> to put the .csv in, so make sure you have a folder named <code>data</code>, or modify the code to the correct folder name.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────────────────────────────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ ggplot2 3.1.0.9000     ✔ purrr   0.3.0     
## ✔ tibble  2.0.1          ✔ dplyr   0.8.0.1   
## ✔ tidyr   0.8.2          ✔ stringr 1.4.0     
## ✔ readr   1.3.1          ✔ forcats 0.3.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>gapminder &lt;- read_csv(&quot;https://gge-ucd.github.io/R-DAVIS/data/gapminder.csv&quot;)</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   country = col_character(),
##   year = col_double(),
##   pop = col_double(),
##   continent = col_character(),
##   lifeExp = col_double(),
##   gdpPercap = col_double()
## )</code></pre>
</div>
<div id="a." class="section level4">
<h4><em>1A</em>.</h4>
<p>Modify the following code to make a figure that shows how life expectancy has changed over time:</p>
<pre class="r"><code>ggplot(gapminder, aes(x = gdpPercap, y = lifeExp)) + 
geom_point()</code></pre>
<p><img src="assignments_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="b." class="section level4">
<h4><em>1B</em>.</h4>
<p>Look at the following code. What do you think the <code>scale_x_log10()</code> line is doing? What do you think the <code>geom_smooth()</code> line is doing?</p>
<p><strong>Hint:</strong> There’s no cost to tinkering! Try some code out and see what happens with or without particular elements.</p>
<pre class="r"><code>ggplot(gapminder, aes(x = gdpPercap, y = lifeExp)) +
    geom_point(aes(color = continent), size = .25) + 
    scale_x_log10() +
    geom_smooth(method = &#39;lm&#39;, color = &#39;black&#39;, linetype = &#39;dashed&#39;) +
    theme_bw()</code></pre>
<p><img src="assignments_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
</div>
<div id="c.-challenge" class="section level4">
<h4><em>1C</em>. (Challenge!)</h4>
<p>Modify the above code to size the points in proportion to the population of the county. <strong>Hint:</strong> Are you translating data to a visual feature of the plot?</p>
</div>
<div id="save-this-code-in-your-scripts-folder-and-name-is-w6_assignment_abc.r-with-your-initials." class="section level4">
<h4>Save this code in your scripts folder and name is <code>w6_assignment_ABC.R</code> with your initials.</h4>
</div>
<div id="part-ii-code-review" class="section level4">
<h4><strong>Part II: Code Review</strong></h4>
<ul>
<li>Find your code partner’s repository on github, click on the scripts folder, and find the script named: <code>w6_assignment_ABC.R</code></li>
<li>Click on the script, then find the <code>RAW</code> button on the right hand side of the screen. Click on <code>RAW</code>.</li>
<li>You should see a plain text version of the script. Right click anywhere on the page, and select “<strong>Save As</strong>”, save the script to your <code>scripts</code> folder in your repository. Make sure to change the file extension to <code>.R</code> (instead of <code>.txt</code>).</li>
<li>Now, if you open up your RProject where you saved the script, you should see it, and better yet, you should have the same path/folder structure that is used in the script (<em>we hope!</em>).</li>
<li>Try to run the script line by line. Where does it break? Can you fix it?</li>
<li><strong>File an Issue</strong> in your code partner’s repository. Write up a few sentences describing a few good things about the script (<em>what worked! Was it clearly commented?</em>) and what didn’t (<em>where did it break for you, and why? How might it be fixed?</em>). Remember to be constructive and positive…we’re all learning!</li>
</ul>
</div>
</div>
<div id="week7" class="section level3">
<h3><small>Week7</small></h3>
</div>
<div id="week8" class="section level3">
<h3><small>Week8</small></h3>
<p>For the homework this week, we are going to be combining a lot of the packages we have learned the past three weeks: <code>dplyr</code>, <code>ggplot</code>, <code>lubridate</code>, and functions.</p>
<p><em>SPOILER: You are currently looking at an RMarkdown document! If you are curious about what RMarkdown is and what we are going to be covering next week, check out the lesson “Literate Programming with RMarkdown” on the website</em></p>
<div id="part-1-1" class="section level4">
<h4><strong>Part 1</strong></h4>
<p>Download a new American River data set using this piece of code:</p>
<pre class="r"><code>library(tidyverse)

am_riv &lt;- read_csv(&quot;https://gge-ucd.github.io/R-DAVIS/data/2015_NFA_solinst_08_05.csv&quot;, skip = 13)

#should have a data frame with 35,038 obs of 5 variables</code></pre>
<ol style="list-style-type: decimal">
<li>Make a datetime column by using <code>paste</code> to combine the date and time columns; remember to convert it to a datetime!</li>
<li>Calculate the weekly mean, max, and min water temperatures and plot as a point plot (all on the same graph)</li>
<li>Calculate the hourly mean <em>Level</em> for April through June and make a line plot (y axis should be the hourly mean level, x axis should be datetime)</li>
</ol>
</div>
<div id="part-2" class="section level4">
<h4><strong>Part 2</strong></h4>
<p>Use the mloa_2001 data set (if you don’t have it, download the .rda file from the resources tab on the website). Remeber to remove the NAs (-99 and -999) and to create a datetime column (we did this in class).</p>
<p>Then, write a <strong>function</strong> called <code>plot_temp</code> that <strong>returns</strong> a graph of the <code>temp_C_2m</code> for a single month. The x-axis of the graph should be pulled from a datetime column (so if your data set does not already have a datetime column, you’ll need to create one!)</p>
<p><em>Hint! Take a look at the Challenge problem at the bottom of the functions lesson (<a href="https://gge-ucd.github.io/R-DAVIS/lesson_functions.html" class="uri">https://gge-ucd.github.io/R-DAVIS/lesson_functions.html</a>) to figure out how to feed a function a dataframe</em></p>
<p><strong>Save the code from Part 1 and 2 in your scripts folder and name is <code>w8_assignment_ABC.R</code> with your initials.</strong></p>
</div>
<div id="part-3-code-review" class="section level4">
<h4><strong>Part 3 : Code Review</strong></h4>
<ul>
<li>Find your code partner’s repository on github, click on the scripts folder, and find the script named: <code>w8_assignment_ABC.R</code></li>
<li>Click on the script, then find the <code>RAW</code> button on the right hand side of the screen. Click on <code>RAW</code>.</li>
<li>You should see a plain text version of the script. Right click anywhere on the page, and select “<strong>Save As</strong>”, save the script to your <code>scripts</code> folder in your repository. Make sure to change the file extension to <code>.R</code> (instead of <code>.txt</code>).</li>
<li>Now, if you open up your RProject where you saved the script, you should see it, and better yet, you should have the same path/folder structure that is used in the script (<em>we hope!</em>).</li>
<li>Try to run the script line by line. Where does it break? Can you fix it?</li>
<li><strong>File an Issue</strong> in your code partner’s repository. Write up a few sentences describing a few good things about the script (<em>what worked! Was it clearly commented?</em>) and what didn’t (<em>where did it break for you, and why? How might it be fixed?</em>).</li>
</ul>
<p><strong>We have included a Key for this assignment, find it below</strong></p>
<details>
<p><summary><strong>DO NOT OPEN</strong> until you are ready to see the answers</summary></p>
<pre class="r"><code>####WEEK 8 HOMEWORK KEY####


#load necessary libraries 

library(lubridate)
library(tidyverse)

#Part 1

am_riv &lt;- read_csv(&quot;https://gge-ucd.github.io/R-DAVIS/data/2015_NFA_solinst_08_05.csv&quot;, skip = 13)

am_riv$datetime &lt;- paste(am_riv$Date, &quot; &quot;, am_riv$Time, sep = &quot;&quot;)
glimpse(am_riv) #pasting the date and time columns together

am_riv$datetime &lt;- ymd_hms(am_riv$datetime) #making the new column a datetime datatype

#new column for week
am_riv$wk &lt;- week(am_riv$datetime)

#calculating mean, min, and max weekly temps
am_riv2 &lt;- am_riv %&gt;% 
  group_by(wk) %&gt;% 
  summarize(mean_wk = mean(Temperature), min_wk = min(Temperature), max_wk = max(Temperature))

glimpse(am_riv2)

#plotting mean, min and max temperatures on the same graph
am_riv2 %&gt;% 
  ggplot()+
  geom_point(aes(x=wk, y = mean_wk), color = &quot;blue&quot;)+
  geom_point(aes(x=wk, y = min_wk), color = &quot;red&quot;)+
  geom_point(aes(x=wk, y = max_wk), color= &quot;green&quot;)+
  xlab(&quot;Week Number&quot;)+ ylab(&quot;Temperature&quot;)+
  theme_bw()

#making new columns for hour and month 
am_riv$hourly &lt;- hour(am_riv$datetime)
am_riv$month &lt;- month(am_riv$datetime)

#finding the mean hourly level for April through June
am_riv3 &lt;- am_riv %&gt;% 
  filter(month == 4 | month == 5 | month == 6) %&gt;% 
  group_by(hourly, month, datetime) %&gt;% 
  summarize(mean_level = mean(Level))

#plotting the mean level from April through June 
am_riv3%&gt;% 
  ggplot()+
  geom_line(aes(x=datetime, y = mean_level), color = &quot;blue&quot;) +
  ylim(1.1, 1.9)+
  theme_bw()



####Part 2#### 

load(&quot;data/mauna_loa_met_2001_minute.rda&quot;)

#making datetime column 
mloa_2001$datetime &lt;- paste0(mloa_2001$year, &quot;-&quot;, mloa_2001$month, &quot;-&quot;, mloa_2001$day, &quot; &quot;, mloa_2001$hour24, &quot;:&quot;, mloa_2001$min)

glimpse(mloa_2001)

#putting it in datetime format
mloa_2001$datetime&lt;- ymd_hm(mloa_2001$datetime)  

#removing the NAs
mloa2 &lt;- mloa_2001 %&gt;% 
  filter(rel_humid != -99, rel_humid != -999) %&gt;% 
  filter(temp_C_2m!= -99, temp_C_2m != -999) %&gt;% 
  filter(windSpeed_m_s!= -99, windSpeed_m_s != -999)

#writing the function 

plot_temp &lt;- function(monthtoimput, dat = mloa2){
  df &lt;- filter(dat, month == monthtoimput)
  plot &lt;- df %&gt;% 
    ggplot()+ geom_line(aes(x=datetime, y = temp_C_2m), color = &quot;red&quot;)+
    theme_bw()
  return(plot)
}

#testing the function, should get a plot for just March temperatures 
plot_temp(3)</code></pre>
</details>
</div>
</div>
<div id="week9" class="section level3">
<h3><small>Week9</small></h3>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
